//////////////////////////////////////////////////////////

#include <cassert>
#include <filesystem>
#include <fstream>
#include <ios>
#include <iostream>
#include <istream>
#include <ostream>
#include <print>
#include <string>

//////////////////////////////////////////////////////////

int main()
{
    auto path = "output.data";

//  ------------------------------------------------------

    auto size = 5uz;

//  ------------------------------------------------------

    {
        std::fstream stream(path, std::ios::out);

    //  --------------------------------------------------

        for (auto i = 0uz; i < size; ++i)
        {
            stream << "aaaaa\n";
        }

    //  --------------------------------------------------

        stream.seekp((size - 1) * (5 + 1), std::ios::beg);

    //  --------------------------------------------------

        stream << "bbbbb\n";
    }

//  ------------------------------------------------------

    std::print("main : enter char : "); std::cin.get();

//  ------------------------------------------------------

    {
        std::fstream stream(path, std::ios::in);

    //  --------------------------------------------------

        stream.seekg((size - 1) * (5 + 1), std::ios::beg);

    //  --------------------------------------------------

        std::string string;

    //  --------------------------------------------------

        std::getline(stream >> std::ws, string);

    //  --------------------------------------------------

        assert(string == "bbbbb");
    }

//  ------------------------------------------------------

    std::filesystem::remove(path);
}

//////////////////////////////////////////////////////////